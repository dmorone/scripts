#!/usr/bin/env bash
set -e
set -u
set -o pipefail

# Hey, futureself. Use videodownloadhelper to get URLs
if [ "$1" == rmc ]; then
  url='https://icy.unitedradio.it/RMC.aac'
elif [ "$1" == rts ]; then
  url='https://stxt-audiostreaming.akamaized.net/hls/live/2117380/la-1ere/variant-96.m3u8'
elif [ "$1" == 3i ]; then
  url='https://icecast.gruppocdt.ch/radio3i-256.mp3'
elif [ "$1" == jazz ]; then
  url='https://livestreaming-node-2.srg-ssr.ch/srgssr/rsj/aac/96'
elif [ "$1" == cla ]; then
  url='https://livestreaming-node-1.srg-ssr.ch/srgssr/rsc_de/aac/96'
elif [ "$1" == grischa ]; then
  url='https://somedia-3.streaming.deliver.media/radiogrischa_mp3_128?suffix0=webseite&_ic2=1765882061'
elif [ "$1" == lattemiele ]; then
  url='https://sr15.inmystream.it/stream/lattemiele'
elif [ "$1" == pop ]; then
  url='https://livestreaming-node-2.srg-ssr.ch/srgssr/rsp/aac/96'
elif [ "$1" == ticino ]; then
  url='https://streaming.smartradio.ch:8502/stream'
else
  echo "don't know $1" 1>&2
  exit 1
fi

exec mpv "$url"
